{% extends "base.html" %}

{% load static %}
{% block title %} Inful {% endblock %}

<!-- Specific CSS goes HERE -->
{% block extrastyle %}
<style>
    .dropdown-btn-input {
        opacity: 1 !important;
        outline: none !important;
        border: none !important;
        bottom: 2px;
    }

    .dropdown-btn-input-modal {
        left: 18px;
    }

    .dropdown-btn-title-home {
        left: 20px !important;
        position: absolute !important;
        top: 8px !important;
    }

    /* Hide the browser's default radio button */
    .container input {
        position: absolute;
        opacity: 0;
        cursor: pointer;
    }

    /* Create a custom radio button */
    .checkmark {
        position: absolute;
        top: 0;
        left: 0;
        height: 25px;
        width: 25px;
        background-color: #eee;
        border-radius: 50%;
    }

    /* On mouse-over, add a grey background color */
    .container:hover input~.checkmark {
        background-color: white;
        border: 3px solid;
    }

    /* When the radio button is checked, add a blue background */
    .container input:checked~.checkmark {
        background-color: #2196F3;
    }

    /* Create the indicator (the dot/circle - hidden when not checked) */
    .checkmark:after {
        content: "";
        position: absolute;
        display: none;
    }

    /* Show the indicator (dot/circle) when checked */
    .container input:checked~.checkmark:after {
        display: block;
    }

    /* Style the indicator (dot/circle) */
    .container .checkmark:after {
        top: 9px;
        left: 9px;
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: white;
    }
</style>
<link rel="stylesheet" href="{% static '/css/search/search282c.css' %}">
<link rel="stylesheet" href="{% static '/css/search/moreFilters282c.css' %}">
<link rel="stylesheet" href="{% static '/css/search/modal282c.css' %}">
<link rel="stylesheet" href="{% static '/css/search/locationInput282c.css' %}">


{% endblock extrastyle %}

{% block content %}
{% if messages %}
<div style="    display: flex;justify-content: center;">
    <ul class="messages" style=" padding: 2px; display: flex;">
        {% for message in messages %}
        {% if message.tag == 'signed in as'%}
        <h1>In if</h1>
        <div {% if message.tags %} class="{{ message.tags }}" {% endif %} style="display: flex;">
            <div><img src="https://d5ik1gor6xydq.cloudfront.net/websiteImages/creatorMarketplace/succ.svg"
                    class="succ-err-msg-img" id="msg-img-err" style="display: block;width: 20px;margin-right: 14px;">
            </div>
        </div>
        <div>{{ message }}</div>
        {% else %}
        <div {% if message.tags %} class="{{ message.tags }}" style="display: flex;">
            <div><img src="https://d5ik1gor6xydq.cloudfront.net/websiteImages/creatorMarketplace/succ.svg"
                    class="succ-err-msg-img" id="msg-img-err" style="display: block;width: 20px;margin-right: 14px;">
            </div>
        </div>
        {% endif %}
        <div>{{ message }}</div>
        {% endif %}

        {% endfor %}
    </ul>
</div>

{% endif %}

<div class="home-title-div" style="padding: 10px;">
    <h1 class="home-title">JOIN OUR COMMUNITY</h1>
</div>

<form class="search-form-holder" method="post">
    {% csrf_token %}
    <div class="search-holder">
        <div class="filter-section platform-filter-section">
            <div class="filter-title">Platform</div>
            <div class="js-filter-placeholder filter-placeholder">Choose a platform</div>
            <div class="filter-dropdown-holder platform-dropdown-holder">
                <div class="filter-dropdown-option" data-id="">Any</div>

                <div class="filter-dropdown-option" data-id="instagram">Instagram</div>

                <div class="filter-dropdown-option" data-id="tiktok">TikTok</div>

                <div class="filter-dropdown-option" data-id="user generated content">User Generated Content</div>

                <div class="filter-dropdown-option" data-id="youtube">YouTube</div>

            </div>

            <select class="mobile-select-dropdown">
                <option value="">All</option>

                <option value="instagram">Instagram</option>

                <option value="tiktok">TikTok</option>

                <option value="user generated content">User Generated Content</option>

                <option value="youtube">YouTube</option>

            </select>

            <input type="hidden" name="platform" value="">
        </div>

        <div class="filter-seperator"></div>

        <div class="filter-section category-filter-section">
            <div class="clear-input-btn"><img class="clear-input-img"
                    src="https://d5ik1gor6xydq.cloudfront.net/websiteImages/creatorMarketplace/closeModal.svg"></div>
            <div class="filter-title">Category</div>
            <div class="filter-placeholder">
                <input class="filter-search-input" name="category" type="text"
                    placeholder="Enter keywords, niches or categories" value=""></div>
            <div class="filter-dropdown-holder category-dropdown-holder">
                <div class="filter-search-input-suggestion-area">
                    <div class="filter-search-input-suggestion-title">Suggested</div>
                    <div class="filter-search-input-suggestion-holder"></div>
                </div>
                <div>
                    <div class="filter-search-input-pop-title">Popular</div>
                    <div class="filter-search-input-pop-holder">

                        <div class="filter-search-input-pop-option" data-id="Lifestyle">Lifestyle</div>

                        <div class="filter-search-input-pop-option" data-id="Fashion">Fashion</div>

                        <div class="filter-search-input-pop-option" data-id="Beauty">Beauty</div>

                        <div class="filter-search-input-pop-option" data-id="Health &amp; Fitness">Health &amp; Fitness
                        </div>

                        <div class="filter-search-input-pop-option" data-id="Travel">Travel</div>

                        <div class="filter-search-input-pop-option" data-id="Food &amp; Drink">Food &amp; Drink</div>

                        <div class="filter-search-input-pop-option" data-id="Model">Model</div>

                        <div class="filter-search-input-pop-option" data-id="Comedy &amp; Entertainment">Comedy &amp;
                            Entertainment</div>

                        <div class="filter-search-input-pop-option" data-id="Art &amp; Photography">Art &amp;
                            Photography</div>

                        <div class="filter-search-input-pop-option" data-id="Music &amp; Dance">Music &amp; Dance</div>

                        <div class="filter-search-input-pop-option" data-id="Entrepreneur &amp; Business">Entrepreneur
                            &amp; Business</div>

                        <div class="filter-search-input-pop-option" data-id="Family &amp; Children">Family &amp;
                            Children</div>

                        <div class="filter-search-input-pop-option" data-id="Animals &amp; Pets">Animals &amp; Pets
                        </div>

                        <div class="filter-search-input-pop-option" data-id="Athlete &amp; Sports">Athlete &amp; Sports
                        </div>

                        <div class="filter-search-input-pop-option" data-id="Celebrity &amp; Public Figure">Celebrity
                            &amp; Public Figure</div>

                        <div class="filter-search-input-pop-option" data-id="Adventure &amp; Outdoors">Adventure &amp;
                            Outdoors</div>

                        <div class="filter-search-input-pop-option" data-id="Actor">Actor</div>

                        <div class="filter-search-input-pop-option" data-id="Education">Education</div>

                        <div class="filter-search-input-pop-option" data-id="Gaming">Gaming</div>

                        <div class="filter-search-input-pop-option" data-id="LGBTQ2+">LGBTQ2+</div>

                        <div class="filter-search-input-pop-option" data-id="Technology">Technology</div>

                        <div class="filter-search-input-pop-option" data-id="Healthcare">Healthcare</div>

                        <div class="filter-search-input-pop-option" data-id="Vegan">Vegan</div>

                        <div class="filter-search-input-pop-option" data-id="Cannabis">Cannabis</div>

                        <div class="filter-search-input-pop-option" data-id="Skilled Trades">Skilled Trades</div>

                        <div class="filter-search-input-pop-option" data-id="Automotive">Automotive</div>

                    </div>
                </div>

            </div>
        </div>

        <button type="submit" class="search-btn">
            <img alt="Search" class="search-img"
                src="https://d5ik1gor6xydq.cloudfront.net/websiteImages/creatorMarketplace/search.svg">
        </button>
    </div>

    <div class="more-filters-btn-holder">


        <!-- <div class="filters-btn-holder type-filters-btn-holder" style="display:none;">

            <div class="filters-btn type-filters-btn ">Content Type<svg viewBox="0 0 32 32" class="filters-btn-img">
                    <g fill="none">
                        <path
                            d="m28 12-11.2928932 11.2928932c-.3905243.3905243-1.0236893.3905243-1.4142136 0l-11.2928932-11.2928932">
                        </path>
                    </g>
                </svg></div>
            <div class="filters-btn-dropdown">
                <div class="filters-btn-dropdown-main">



                    <label class="checkbox-holder" data-platform="instagram" style="display:none">Feed Post
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="feed post" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="user generated content" style="display:none">Product
                        Photo/Video
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="product photo/video"
                            name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="user generated content" style="display:none">Unboxing
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="unboxing" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="user generated content" style="display:none">Blog
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="blog" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="user generated content" style="display:none">Other
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="other" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="instagram" style="display:none">Reel
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="reel" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="instagram" style="display:none">Story
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="story" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="instagram" style="display:none">Live
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="live" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="instagram" style="display:none">Other
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="other" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="tiktok" style="display:none">Video
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="video" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="tiktok" style="display:none">Story
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="story" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="tiktok" style="display:none">Live
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="live" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="user generated content" style="display:none">Tutorial
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="tutorial" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="youtube" style="display:none">Video
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="video" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="youtube" style="display:none">Short
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="short" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="youtube" style="display:none">Livestream
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="livestream" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="youtube" style="display:none">Other
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="other" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="twitter" style="display:none">Tweet
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="tweet" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="twitter" style="display:none">Thread
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="thread" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="twitter" style="display:none">Retweet
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="retweet" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="twitter" style="display:none">Other
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="other" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="twitch" style="display:none">Livestream
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="livestream" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="twitch" style="display:none">Other
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="other" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="tiktok" style="display:none">Other
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="other" name="t">
                        <span class="checkmark"></span>
                    </label>



                    <label class="checkbox-holder" data-platform="user generated content"
                        style="display:none">Testimonial/Review
                        <input class="filters-btn-dropdown-checkbox" type="checkbox" value="testimonial/review"
                            name="t">
                        <span class="checkmark"></span>
                    </label>



                </div>
                <div class="filters-btn-dropdown-footer">
                    <div class="clear-btn js-clear-checkboxes">Clear</div>
                    <button type="button" class="btn">Save</button>
                </div>
            </div>

        </div> -->

        <div class="filters-btn-holder">

            <div class="filters-btn ">Country<svg viewBox="0 0 32 32" class="filters-btn-img">
                    <g fill="none">
                        <path
                            d="m28 12-11.2928932 11.2928932c-.3905243.3905243-1.0236893.3905243-1.4142136 0l-11.2928932-11.2928932">
                        </path>
                    </g>
                </svg></div>

            <div class="filters-btn-dropdown">
                <div class="filters-btn-dropdown-main">
                    <select id="country-input" class="input more-filter-select" name="country">

                        <option value="">Choose a country</option>

                        <option value="united states">United States</option>

                        <option value="canada">Canada</option>

                        <option value="united kingdom">United Kingdom</option>

                        <option value="australia">Australia</option>

                        <option value="germany">Germany</option>

                        <option value="france">France</option>

                        <option value="spain">Spain</option>

                        <option value="italy">Italy</option>

                        <option value="netherlands">Netherlands</option>

                        <option value="mexico">Mexico</option>

                        <option value="belgium">Belgium</option>

                        <option value="sweden">Sweden</option>

                        <option value="switzerland">Switzerland</option>

                        <option value="portugal">Portugal</option>

                        <option value="romania">Romania</option>

                        <option value="norway">Norway</option>

                        <option value="ireland">Ireland</option>

                        <option value="poland">Poland</option>

                        <option value="new zealand">New Zealand</option>

                        <option value="austria">Austria</option>

                        <option value="greece">Greece</option>

                        <option value="czech republic">Czech Republic</option>

                        <option value="finland">Finland</option>

                        <option value="japan">Japan</option>

                        <option value="denmark">Denmark</option>

                        <option value="malta">Malta</option>

                        <option value="lithuania">Lithuania</option>

                        <option value="slovakia">Slovakia</option>

                        <option value="slovenia">Slovenia</option>

                        <option value="hungary">Hungary</option>

                        <option value="singapore">Singapore</option>

                        <option value="bulgaria">Bulgaria</option>

                        <option value="hong kong">Hong Kong</option>

                        <option value="cyprus">Cyprus</option>

                        <option value="latvia">Latvia</option>

                        <option value="united arab emirates">United Arab Emirates</option>

                        <option value="estonia">Estonia</option>

                        <option value="luxembourg">Luxembourg</option>

                    </select>
                </div>

                <div class="filters-btn-dropdown-footer">
                    <div class="clear-btn js-clear-select">Clear</div>
                    <button type="submit" class="btn">Save</button>
                </div>
            </div>

        </div>

        <div class="filters-btn-holder">

            <div class="filters-btn ">Gender<svg viewBox="0 0 32 32" class="filters-btn-img">
                    <g fill="none">
                        <path
                            d="m28 12-11.2928932 11.2928932c-.3905243.3905243-1.0236893.3905243-1.4142136 0l-11.2928932-11.2928932">
                        </path>
                    </g>
                </svg></div>

            <div class="filters-btn-dropdown">
                <div class="filters-btn-dropdown-main">
                    <select class="input more-filter-select" name="gender">

                        <option value="">Choose a gender</option>
                        <option value="female">Female</option>
                        <option value="male">Male</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <div class="filters-btn-dropdown-footer">
                    <div class="clear-btn js-clear-select">Clear</div>
                    <button type="submit" class="btn">Save</button>
                </div>
            </div>

        </div>

        <div class="filters-btn more-filters-btn ">More Filters</div>
    </div>

    <div class="modal-filters">
        <div class="modal-content-holder-filters">

            <div class="modal-content-header">
                <div class="modal-content-header-title">More Filters</div>
                <div class="close-modal-filters"><img class="close-modal-img"
                        src="https://d5ik1gor6xydq.cloudfront.net/websiteImages/creatorMarketplace/closeModal.svg">
                </div>
            </div>

            <div class="modal-content-scroll">
                <div class="more-filter-holder">
                    <div class="more-filter-title filter-title">City</div>

                    <div id="location-dropdown">
                        <input id="location-input" name="location" class="input" type="text"
                            placeholder='City - Enter first 3 letters and select from dropdown' value="">
                        <input id="location-id" name="l_id" type="hidden" value="">
                        <div id="location-dropdown-content"></div>
                    </div>

                </div>

                <!-- <div class="more-filter-holder">
                    <div class="more-filter-title filter-title">Price</div>
                    <select class="input more-filter-select more-filter-price-select" name="price">
                        <option value="">Any</option>
                        <option value="50,250,'under $250'">Under $250</option>
                        <option value="50,500,'under $500'">Under $500</option>
                        <option value="50,1000,'under $1000'">Under $1,000</option>
                        <option value="1000,999999,'$1000+'">$1,000+</option>
                    </select>
                </div> -->

                <div class="more-filter-holder">
                    <div class="more-filter-title filter-title">Followers</div>
                    <select class="input more-filter-select" name="followers">



                        <option value="">Any</option>

                        <option value="0-1k">0-1k</option>

                        <option value="1k-10k">1k-10k</option>

                        <option value="10k-50k">10k-50k</option>

                        <option value="50k-100k">50k-100k</option>

                        <option value="100k-500k">100k-500k</option>

                        <option value="500k-1m">500k-1m</option>

                        <option value="1m-5m">1m-5m</option>

                        <option value="5m-10m">5m-10m</option>

                        <option value="10m+">10m+</option>

                    </select>
                </div>
            </div>

            <div class="modal-content-footer">
                <button type="submit" class='btn modal-btn apply-filter-btn'>Apply Filters</button>
            </div>

        </div>
    </div>

    <script>
        $('.more-filters-btn').click(function () {
            showModalFilters();
        });

        function hideModalFilters() {
            $(".modal-filters").hide();
            $('.modal-content-holder-filters').css('width', 'initial');
            document.body.style.position = "initial";
            const scrollY = document.body.style.top;
            document.body.style.position = '';
            document.body.style.top = '';
            window.scrollTo(0, parseInt(scrollY || '0') * -1);
        }

        function showModalFilters(content, width) {
            if (content) $(".modal-content-holder-filters").html(content);
            if (width) $('.modal-content-holder-filters').css('width', width);
            $(".modal-filters").css('display', 'flex');
            // When the modal is shown, we want a fixed body
            const scrollY = window.scrollY;

            // fix scroll issue on mobile
            $('.modal-content-scroll')[0].scrollTop = 1;
        }

        $(document).on('click', '.close-modal-filters', function () {
            hideModalFilters();
        });

        $(document).on('click', function (e) {
            if ($(e.target).is('.modal-filters')) hideModalFilters();
        });

        /* location */
        const token = "aohPGeGM2hOVOFCP7eBqxAVDGhU6stJchroJuIZXmQywBTiyjvruwtJrmmqiGOPO";
        const locationUrl = "get-locations.json";
        const multiple = false;
    </script>
    <script src="{% static 'js/locationInput.js' %}"></script>




    <div class="modal">
        <div class="modal-content-holder"></div>
    </div>
    <script>
        function hideModal() {
            $(".modal").hide();
            $('.modal-content-holder').css('width', '500px');
            allowScroll();
        }

        function showModal(content, width) {
            if (content) $(".modal-content-holder").html(content);
            if (width) $('.modal-content-holder').css('width', width);
            $(".modal").css('display', 'flex');
            preventScroll();
        }

        function preventScroll() {
            // When the modal is shown, we want a fixed body
            const scrollY = window.scrollY;
            document.body.style.position = 'fixed';
            document.body.style.top = `-${scrollY}px`;

            // fix scroll issue on mobile
            let scrollHolder = $('.modal-content-scroll');
            if (scrollHolder.length) scrollHolder[0].scrollTop = 1;
        }

        function allowScroll() {
            document.body.style.position = "initial";
            const scrollY = document.body.style.top;
            document.body.style.position = '';
            document.body.style.top = '';
            window.scrollTo(0, parseInt(scrollY || '0') * -1);
        }

        $(document).on('click', '.close-modal', function () {
            hideModal();
        });

        $(document).on('click', function (e) {
            // if outside modal clicked and 3ds not open
            if ($(e.target).is('.modal') && !$('.modal').find('iframe').length) {
                hideModal();
            }
        });
    </script>

</form>
<script>
    $(document).ready(function () {

        $('.platform-filter-section').find("[data-id='" + '' + "']").click();
        $('.more-filter-price-select').val('').change();

    });

    let searchInput = $('.filter-search-input');
    let clearInputBtn = $('.clear-input-btn');

    // hide filters if clicked outside
    $(document).on('click', function (e) {
        if ($(e.target).closest(".search-form-holder").length === 0) {
            $(".filter-dropdown-holder").hide();
            hideClearBtn();
        }

        let dropdown = $(".filters-btn-dropdown");
        if (!dropdown.is(e.target) && dropdown.has(e.target).length === 0) dropdown.hide();
    });

    $('.filter-section').click(function () {
        let width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
        if (width >= 800 || $(this).hasClass('category-filter-section')) {
            let dropdown = $(this).find('.filter-dropdown-holder');
            let hide = !dropdown.is(':visible');
            $('.filter-dropdown-holder').hide(); // hide all dropdowns
            if (hide) dropdown.show();
        }
    });

    $('.mobile-select-dropdown').change(function () {
        $(this).siblings('.filter-dropdown-holder').find(`[data-id='${$(this).val()}']`).click();
    });

    // platform click
    $('.filter-dropdown-holder .filter-dropdown-option').click(function (e) {
        let parent = $(this).parent('.filter-dropdown-holder');
        let txt = $(this).text();
        let id = $(this).data('id');
        parent.children('.filter-dropdown-option').removeClass('filter-dropdown-option-selected'); // reset all options styling
        $(this).addClass('filter-dropdown-option-selected'); // set new options styling
        let placeholder = parent.siblings('.js-filter-placeholder');
        placeholder.text(txt).removeClass('filter-placeholder').addClass('filter-placeholder-chosen');
        let currPlarform = parent.siblings('input').val();
        parent.siblings('input').val(id); // set input
        parent.hide();
        e.stopPropagation();


        if (!id.length) {
            // if any selected hide content types
            $('.type-filters-btn-holder').hide();
            clearCheckboxes();
        } else if (currPlarform !== id) {
            updateContentTypes(id);
        }

    });

    $('.category-filter-section').click(function () {
        searchInput.focus();
    });

    // category click
    $('.filter-search-input-pop-option').click(function (e) {
        let id = $(this).data('id');
        let txt = searchInput.val();
        if (txt && txt.slice(-1) !== ' ') txt += ' ';
        searchInput.val(txt + id + ' '); // set input
        searchInput.focus(); // type on input
        e.stopPropagation();

        let width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
        if (width <= 800) {
            hideCategoryDropdown();
        }
    });

    searchInput.focus(function () {
        if (searchInput.val().trim()) showClearBtn();
    });

    function showClearBtn() {
        clearInputBtn.css('display', 'flex');
    }

    function hideClearBtn() {
        clearInputBtn.hide();
    }

    clearInputBtn.click(function (e) {
        e.stopPropagation();
        searchInput.val('').focus();
        $(this).hide();
    });

    function chooseKeyword(el, e) {
        let id = $(el).data('id');
        let txt = searchInput.val();

        let val = searchInput.val();
        let breakIdx = getDelimiter(val);
        // replace word after this with autofill
        if (breakIdx !== -1) {
            searchInput.val(txt.substring(0, breakIdx) + ' ' + id + ' ');
        } else {
            searchInput.val(txt.substring(0, breakIdx) + id + ' ');
        }

        searchInput.focus(); // type on input
        e.stopPropagation();
        hideSuggestions();

        let width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
        if (width <= 800) {
            hideCategoryDropdown();
        }
    }

    $('.search-btn, .apply-filter-btn, .filters-btn-dropdown-footer .btn').click(function () {
        btnLoad($(this));
        $('.search-form-holder').submit();
    });

    let searchCategories = ['Lifestyle', 'Fashion', 'Beauty', 'Health &amp; Fitness', 'Travel', 'Food &amp; Drink', 'Model', 'Comedy &amp; Entertainment', 'Art &amp; Photography', 'Music &amp; Dance', 'Entrepreneur &amp; Business', 'Family &amp; Children', 'Animals &amp; Pets', 'Athlete &amp; Sports', 'Celebrity &amp; Public Figure', 'Adventure &amp; Outdoors', 'Actor', 'Education', 'Gaming', 'LGBTQ2+', 'Technology', 'Healthcare', 'Vegan', 'Cannabis', 'Skilled Trades', 'Automotive', 'Makeup', 'Hair', 'Skincare', 'Swimwear', 'Streetwear', 'Nomad', 'Blogger', 'Home Decor', 'Interior Design', 'Investing', 'Finance', 'Law', 'Realtor', 'Money', 'Wealth', 'NFT', 'Crypto', 'Doctor', 'Dentist', 'Nurse', 'Physician', 'Yoga', 'Wellness', 'Weightlifting', 'Nutrition', 'CrossFit', 'Body Positivity', 'Gym', 'Running', 'Hockey', 'Tennis', 'Biking', 'Basketball', 'Soccer', 'Football', 'College Athlete', 'NCAA', 'Skateboard', 'Ski', 'Snowboard', 'Teacher', 'Student', 'School', 'Study', 'DIY', 'Review', 'Coach', 'Dog', 'Cat', 'Horse', 'ASMR', 'Prank', 'Magic', 'Restaurant', 'Cooking', 'Baking', 'Keto', 'Gluten Free', 'Coffee', 'Chef', 'Foodie', 'Wine', 'Beer', 'Eating', 'Recipe', 'Vegetarian', 'Hiking', 'Camping', 'Fishing', 'Hunting', 'Sewing', 'Painting', 'Drawing', 'Drone', 'Film', 'Guitar', 'Singer', 'Song', 'Rap', 'Hip Hop', 'Car', 'Motorcycle', 'Truck', 'Mechanic', 'Driving', 'Racing', 'Renovation', 'Wood', 'Mom', 'Motherhood', 'Dad', 'Relationship', 'Couple', 'Gay', 'Transgender', 'Non-Binary', 'Cosplay', 'Anime', 'Coding', 'Vintage Fashion', 'Casual Fashion', 'Grunge Fashion', 'Chic Fashion', 'Artsy Fashion', 'Ethnic Fashion', 'Business Fashion', 'Sportswear', 'Maternity Fashion', 'Tomboy', 'Modest Fashion', 'Bohemian Fashion', 'Goth Fashion', 'Bikini', 'Southern Fashion', 'Loungewear', 'Hipster', 'Minimalist Style', 'Trendy Fashion', 'Classic Fashion', 'Athleisure', '90&#x27;S Fashion', 'Preppy Style', 'E-Girl', 'Hair Care', 'Body Care', 'Cosmetic', 'Perfume', 'Manicure', 'Pedicure', 'Tattoo', 'Tanning', 'Hairdresser', 'Hair Stylist', 'Dermatologist', 'Eyelash Technician', 'Spa', 'Nail', 'Makeup Artist', 'Laser Hair', 'Stylist', 'Esthetician', 'Cosmetologist', 'Massage Therapist', 'Weight Loss', 'Supplement', 'Hiit', 'Cold Therapy', 'Psychedelic', 'Strength Training', 'Personal Trainer', 'Powerlifting', 'Pilates', 'Home Cooking', 'Meal Prep', 'Alcohol', 'Cocktail', 'Mixologist', 'Bartender', 'Bbq', 'Dessert', 'Charcuterie', 'Movie', 'Science', 'Meme', 'Journalism', 'Sculpting', 'Theater', 'Architect', 'Music Producer', 'Dj', 'Ceramics', 'Nature Photography', 'Sports Photography', 'Photojournalism', 'Architectural Photography', 'Fashion Photography', 'Abstract Photography', 'Adventure Photography', 'Astrophotography', 'Business Photography', 'Black And White Photography', 'Candid Photography', 'Cityscape Photography', 'Animation', 'Commercial Photography', 'Composite Photography', 'Documentary Photography', 'Drone Photography', 'Double-Exposure Photography', 'Editorial Photography', 'Event Photography', 'Family Photography', 'Film Photography', 'Fine Art Photography', 'Food Photography', 'Holiday Photography', 'Infrared Photography', 'Lifestyle Photography', 'Designer', 'Musician', 'Software Developer', 'Engineer', 'Robotics', 'Ecommerce', 'Dropshipping', 'Stock Market', 'Startup', 'Marketing', 'Personal Finance', 'Construction', 'Kayaking', 'Rafting', 'Rock Climbing', 'Bushcraft', 'Exploration', 'Survival', 'Climbing', 'Parkour', 'Baseball', 'Skydiver', 'Softball', 'Volleyball', 'Cyclist', 'Mountain Bike', 'VFX', 'Book',];
    let searchCategoriesDict = {

        "Lifestyle": ['Blogger', 'Home Decor', 'Interior Design',],

        "Fashion": ['Swimwear', 'Streetwear', 'Vintage Fashion', 'Casual Fashion', 'Grunge Fashion', 'Chic Fashion', 'Artsy Fashion', 'Ethnic Fashion', 'Business Fashion', 'Sportswear', 'Maternity Fashion', 'Tomboy', 'Modest Fashion', 'Bohemian Fashion', 'Goth Fashion', 'Bikini', 'Southern Fashion', 'Loungewear', 'Hipster', 'Minimalist Style', 'Trendy Fashion', 'Classic Fashion', 'Athleisure', '90&#x27;S Fashion', 'Preppy Style', 'E-Girl',],

        "Beauty": ['Makeup', 'Hair', 'Skincare', 'Hair Care', 'Body Care', 'Cosmetic', 'Perfume', 'Manicure', 'Pedicure', 'Tattoo', 'Tanning', 'Hairdresser', 'Hair Stylist', 'Dermatologist', 'Eyelash Technician', 'Spa', 'Nail', 'Makeup Artist', 'Laser Hair', 'Stylist', 'Esthetician', 'Cosmetologist',],

        "Health &amp; Fitness": ['Yoga', 'Wellness', 'Weightlifting', 'Nutrition', 'CrossFit', 'Body Positivity', 'Gym', 'Massage Therapist', 'Weight Loss', 'Supplement', 'Hiit', 'Cold Therapy', 'Psychedelic', 'Strength Training', 'Personal Trainer', 'Powerlifting', 'Pilates',],

        "Travel": ['Nomad',],

        "Food &amp; Drink": ['Restaurant', 'Cooking', 'Baking', 'Keto', 'Gluten Free', 'Coffee', 'Chef', 'Foodie', 'Wine', 'Beer', 'Eating', 'Recipe', 'Vegetarian', 'Home Cooking', 'Meal Prep', 'Alcohol', 'Cocktail', 'Mixologist', 'Bartender', 'Bbq', 'Dessert', 'Charcuterie',],

        "Model": [],

        "Comedy &amp; Entertainment": ['ASMR', 'Prank', 'Magic', 'Movie', 'Science', 'Meme', 'Journalism',],

        "Art &amp; Photography": ['Sewing', 'Painting', 'Drawing', 'Drone', 'Film', 'Sculpting', 'Theater', 'Architect', 'Music Producer', 'Dj', 'Ceramics', 'Nature Photography', 'Sports Photography', 'Photojournalism', 'Architectural Photography', 'Fashion Photography', 'Abstract Photography', 'Adventure Photography', 'Astrophotography', 'Business Photography', 'Black And White Photography', 'Candid Photography', 'Cityscape Photography', 'Animation', 'Commercial Photography', 'Composite Photography', 'Documentary Photography', 'Drone Photography', 'Double-Exposure Photography', 'Editorial Photography', 'Event Photography', 'Family Photography', 'Film Photography', 'Fine Art Photography', 'Food Photography', 'Holiday Photography', 'Infrared Photography', 'Lifestyle Photography', 'Designer', 'Musician',],

        "Music &amp; Dance": ['Guitar', 'Singer', 'Song', 'Rap', 'Hip Hop',],

        "Entrepreneur &amp; Business": ['Investing', 'Finance', 'Law', 'Realtor', 'Money', 'Wealth', 'NFT', 'Crypto', 'Ecommerce', 'Dropshipping', 'Stock Market', 'Startup', 'Marketing', 'Personal Finance',],

        "Family &amp; Children": ['Mom', 'Motherhood', 'Dad', 'Relationship', 'Couple',],

        "Animals &amp; Pets": ['Dog', 'Cat', 'Horse',],

        "Athlete &amp; Sports": ['Running', 'Hockey', 'Tennis', 'Biking', 'Basketball', 'Soccer', 'Football', 'College Athlete', 'NCAA', 'Skateboard', 'Ski', 'Snowboard', 'Parkour', 'Baseball', 'Skydiver', 'Softball', 'Volleyball', 'Cyclist', 'Mountain Bike',],

        "Celebrity &amp; Public Figure": [],

        "Adventure &amp; Outdoors": ['Hiking', 'Camping', 'Fishing', 'Hunting', 'Kayaking', 'Rafting', 'Rock Climbing', 'Bushcraft', 'Exploration', 'Survival', 'Climbing',],

        "Actor": [],

        "Education": ['Teacher', 'Student', 'School', 'Study', 'DIY', 'Review', 'Coach', 'Book',],

        "Gaming": ['Cosplay', 'Anime',],

        "LGBTQ2+": ['Gay', 'Transgender', 'Non-Binary',],

        "Technology": ['Coding', 'Software Developer', 'Engineer', 'Robotics', 'VFX',],

        "Healthcare": ['Doctor', 'Dentist', 'Nurse', 'Physician',],

        "Vegan": [],

        "Cannabis": [],

        "Skilled Trades": ['Renovation', 'Wood', 'Construction',],

        "Automotive": ['Car', 'Motorcycle', 'Truck', 'Mechanic', 'Driving', 'Racing',],

    };
    let suggestionArea = $('.filter-search-input-suggestion-area');
    let suggestionHolder = $('.filter-search-input-suggestion-holder');

    searchInput.keyup(function (e) {
        if (e.keyCode === 13) {
            $(this).blur();
            hideCategoryDropdown();
            $('.search-btn').click();
            return;
        }

        let val = $(this).val();
        let breakIdx = getDelimiter(val);
        // only match word after delimiter
        if (breakIdx !== -1) {
            val = val.substring(breakIdx + 1);
        }

        // always show dropdown when typing
        $('.category-dropdown-holder').show();
        hideSuggestions();

        if (val.trim()) {
            showClearBtn();
            let results = [];
            for (let i = 0; i < searchCategories.length; i++) {
                let arrVal = searchCategories[i];
                // loop and get matching results
                if (htmlDecode(arrVal.toUpperCase()).includes(val.toUpperCase())) results.push(arrVal);
            }

            // sort results
            results.sort(compare);

            // add results
            for (let i = 0; i < Math.min(results.length, 4); i++) {
                suggestionHolder.append(`<div class='filter-search-input-suggestion-option' data-id='${results[i]}' onclick='chooseKeyword(this, event)'>${results[i]}</div>`);
            }
            if (results.length) suggestionArea.show();

            if (suggestionHolder.children().length < 5 && suggestionHolder.children().length > 0) {
                // get top result
                let topResult = $('.filter-search-input-suggestion-option').first().data('id');
                // if its a niche
                if (htmlEncode(topResult) in searchCategoriesDict) {
                    // list more subniches
                    let subNiches = searchCategoriesDict[htmlEncode(topResult)];
                    let count = 5 - suggestionHolder.children().length;
                    for (let i = 0; i < Math.min(count, subNiches.length); i++) {
                        suggestionHolder.append(`<div class='filter-search-input-suggestion-option' data-id='${subNiches[i]}' onclick='chooseKeyword(this, event)'>${subNiches[i]}</div>`);
                    }
                } else {
                    // if its a subniche
                    Object.keys(searchCategoriesDict).forEach(function (key) {
                        let subNiches = searchCategoriesDict[key];
                        if (subNiches.includes(topResult)) {
                            // list niche if not already in results
                            if (!results.includes(key)) suggestionHolder.append(`<div class='filter-search-input-suggestion-option' data-id='${key}' onclick='chooseKeyword(this, event)'>${key}</div>`);
                            // list more subniches with same parent
                            let count = 5 - suggestionHolder.children().length;
                            for (let i = 0; i < Math.min(count, subNiches.length); i++) {
                                // loop results
                                let add = true;
                                $('.filter-search-input-suggestion-option').each(function () {
                                    // if subniche already in results
                                    if ($(this).data('id') === subNiches[i]) {
                                        add = false;
                                        return false;
                                    }
                                });
                                if (add) suggestionHolder.append(`<div class='filter-search-input-suggestion-option' data-id='${subNiches[i]}' onclick='chooseKeyword(this, event)'>${subNiches[i]}</div>`)
                            }
                        }
                    });
                }
            }
        } else {
            hideClearBtn();
        }
    });

    function compare(a, b) {
        // sort b before a
        if (a.length > b.length) return 1;
        if (a.length < b.length) return -1;
        // a must be equal to b
        return 0;
    }

    function hideCategoryDropdown() {
        $('.category-dropdown-holder').hide();
    }

    function hideSuggestions() {
        suggestionArea.hide();
        suggestionHolder.html('');
    }

    function htmlDecode(value) {
        return $("<textarea/>").html(value).text();
    }

    function htmlEncode(value) {
        return $("<textarea/>").text(value).html();
    }

    function getDelimiter(str) {
        for (let i = str.length - 1; i >= 0; i--) {
            let c = str.charAt(i);
            // if not letter, number or &
            if (!/([a-zA-Z0-9&])\w*/.test(c)) {
                return i;
            }
        }
        return -1; // no alphanumeric character at all
    }


    $('.filters-btn').click(function (e) {
        let show = true;
        let dropdown = $(this).siblings('.filters-btn-dropdown');
        if (dropdown.is(':visible')) show = false;
        $('.filters-btn-dropdown').hide();
        if (show) dropdown.show();
        e.stopPropagation()
    });

    $('.js-clear-checkboxes').click(function () {
        clearCheckboxes();
    });

    $('.js-clear-select').click(function () {
        $(this).parents('.filters-btn-dropdown').find('.input').val('');
    });

    function updateContentTypes(platform) {
        $('.type-filters-btn-holder').show();
        $('.type-filters-btn').removeClass('filters-btn-selected');
        clearCheckboxes();
        $('.checkbox-holder').hide();
        $(`[data-platform='${platform}']`).show();
    }

    function clearCheckboxes() {
        $('.filters-btn-dropdown-checkbox').prop('checked', false);
    }

</script>


<div class="container div-titel" style="padding-left: 100px; padding-right: 100px; width: 100%;">
    <h1 class="featured-title">FEATURED</h1>
</div>
<!-- *************************************************************************************************************************change -->
<div class="influencers-div">
    {% if all_influencer %}
    {% for influencer in all_influencer %}
    {% if influencer.location %}
    <form action="{% url 'influencer_home_profile' %}" method="POST">
        {% csrf_token %}
        <div class="card img-fluid f-image" style="margin-right: 0px;">
            <input type="text" hidden name="influencer" value="{{influencer.email_address}}">
            <div class="img-background" onClick="javascript:this.parentNode.parentNode.submit();">

                <img class="card-img-top" src="{{influencer.cover_image.url}}" alt="Card image" style="width:100%">

            </div>

            <div class="card-img-overlay">
                <h4 class="card-title">{{influencer.full_name |title}}</h4>
                <p class="card-text">{{influencer.location}}</p>

            </div>
            <div class="profile-info" style="display: flex; justify-content: space-between; text-align: center;">
                <div style="color:grey">Instagram</div>
                <div style="font-size: initial; color: black; font-weight: 600;">$100</div>
            </div>
            <h3 class="profile-text">{{influencer.description_influencer | title}} Content Creator</h3>
        </div>

    </form>
    {% endif %}

    {% endfor %}
    {% endif %}
</div>

<div class="see_more_div">
    <!-- <div class="see_more_buton" id="see_more">
        See More
    </div> -->
</div>


<!-- *************************************************************************************************************************change 2 -->
<div class="container mt-3 div-titel" style="padding-left: 100px; padding-right: 100px; width: 100%;">
    <h1 class="featured-title">Categories</h1>

</div>
<div class="container mt-3 categories-div" style="padding-left: 100px; padding-right: 100px; width: 100%;">


    <div class="card img-fluid categories-div-item" style="width: 598px; height:181px; border-radius: 13px;">
        <div class="img-background">
            <img class="card-img-top"
                src="https://d5ik1gor6xydq.cloudfront.net/websiteImages/creatorMarketplace/categories/fashion.png"
                alt="Card image" style="width:100%; height: 236px;">
        </div>

        <div class="card-img-overlay-cat">
            <h2 style="font-size: 17px; font-weight: 700; margin: 0px;" class="card-title">Fashion</h2>

        </div>

    </div>
    <div class="card img-fluid categories-div-item" style="width: 598px; height:181px; border-radius: 13px;">
        <div class="img-background">
            <img class="card-img-top"
                src="https://d5ik1gor6xydq.cloudfront.net/websiteImages/creatorMarketplace/categories/music & dance.png"
                alt="Card image" style="width:100%; height: 236px;">
        </div>

        <div class="card-img-overlay-cat">
            <h2 style="font-size: 17px; font-weight: 700; margin: 0px;" class="card-title">Music & Dance</h2>


        </div>

    </div>
    <div class="card img-fluid categories-div-item" style="width: 598px; height:181px; border-radius: 13px;">
        <div class="img-background">
            <img class="card-img-top"
                src="https://d5ik1gor6xydq.cloudfront.net/websiteImages/creatorMarketplace/categories/beauty.png"
                alt="Card image" style="width:100%; height: 236px;">
        </div>

        <div class="card-img-overlay-cat">
            <h2 style="font-size: 17px; font-weight: 700; margin: 0px;" class="card-title">Beauty</h2>


        </div>

    </div>
    <div class="card img-fluid categories-div-item" style="width: 598px; height:181px; border-radius: 13px;">
        <div class="img-background">
            <img class="card-img-top"
                src="https://d5ik1gor6xydq.cloudfront.net/websiteImages/creatorMarketplace/categories/travel.png"
                alt="Card image" style="width:100%; height: 236px;">
        </div>

        <div class="card-img-overlay-cat">
            <h2 style="font-size: 17px; font-weight: 700; margin: 0px;" class="card-title">Travel</h2>


        </div>

    </div>

</div>




<!-- *************************************************************************************************************************change 4 -->
<div class="container how-work-outer" style="padding-left: 100px; padding-right: 100px; width: 100%;">
    <div class="row-holder">
        <div class="features-holder how-work-outer">
            <div class="feature-holder">
                <div class="feature-title"><img class="feature-img"
                        src="https://d5ik1gor6xydq.cloudfront.net/websiteImages/creatorMarketplace/money.svg"
                        alt="Money icon" loading="lazy">No Upfront Cost</div>
                <div class="feature-txt">Search influencers for free. No subscriptions, contracts or hidden fees.</div>
            </div>
            <div class="feature-holder">
                <div class="feature-title"><img class="feature-img"
                        src="https://d5ik1gor6xydq.cloudfront.net/websiteImages/creatorMarketplace/check.svg"
                        alt="Check icon" loading="lazy">Vetted Influencers</div>
                <div class="feature-txt">Every influencer is vetted by us. Always receive high-quality, professional
                    content.</div>
            </div>
            <div class="feature-holder">
                <div class="feature-title"><img class="feature-img"
                        src="https://d5ik1gor6xydq.cloudfront.net/websiteImages/creatorMarketplace/chat.svg"
                        alt="Chat icon" loading="lazy">Instant Chat</div>
                <div class="feature-txt">Instantly chat with influencers and stay in touch throughout the whole
                    transaction.</div>
            </div>
            <div class="feature-holder">
                <div class="feature-title"><img class="feature-img"
                        src="https://d5ik1gor6xydq.cloudfront.net/websiteImages/creatorMarketplace/secure.svg"
                        alt="Lock icon" loading="lazy">Secure Purchases</div>
                <div class="feature-txt">Your money is held safely until you approve the influencers work.</div>
            </div>
        </div>
    </div>
</div>

{% include 'footer.html' %}

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block extrajavascript %}
<script>
    // --------------------------------------------------------- to select multiple inputs in category
    var input_value = $('#dropdown-btn-input').val()
    var str = ""
    $(".content-drop").on('click', function (e) {
        var value = $(this).text()
        console.log('content-drop!!!!!!!', value)
        if ($('#dropdown-btn-input').val().includes(value)) {
            console.log('if statement')
        }

        else {
            str = str + value + ','
            console.log('string value', str)

            $('#dropdown-btn-input').val(str)
        }
        console.log('dropdown-btn-input)))))', $('#dropdown-btn-input').val())


    });
    var input_value1 = $('#dropdown-btn-input-modal').val()
    var str1 = ""
    $(".content-drop-modal").on('click', function (e) {
        var value = $(this).text()
        console.log('content-drop!!!!!!!', value)
        if ($('#dropdown-btn-input-modal').val().includes(value)) {
            console.log('if statement')
        }

        else {
            str1 = str1 + value + ','
            console.log('string value', str1)

            $('#dropdown-btn-input-modal').val(str1)
            console.log('dropdown-btn-input-modal)))))', $('#dropdown-btn-input-modal').val())
        }

    });
</script>

<script>
    const f_image = document.getElementsByClassName("f-image");
    const see_more = document.getElementById("see_more");
    see_more.addEventListener("click", function () {
        if (f_image.length > 18) {
            for (x = 0; x < f_image.length; c = x++) {
                f_image[x].style.display = 'block';
            }
        }
        see_more.style.display = "none";
    });

    console.log("check");

    function myFunction(x) {
        if (x.matches) { // If media query matches
            if (f_image.length > 6) {
                for (x = 6; x < f_image.length; c = x++) {
                    f_image[x].style.display = 'none';
                    see_more.style.display = "block";
                }
            }
        } else {
            if (f_image.length > 18) {
                for (x = 18; x < f_image.length; c = x++) {
                    f_image[x].style.display = 'none';
                    see_more.style.display = "block";
                }
            }
        }
    }

    var x = window.matchMedia("(max-width: 552px)")
    myFunction(x) // Call listener function at run time
    x.addListener(myFunction) // Attach listener function on state changes
</script>


{% endblock extrajavascript %}